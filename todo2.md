---
title: "–§–∞–∑–∞ 2: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞"
created: 2025-12-06
modified: 2025-12-06
category: project
status: active
tags: [api, apollo-next, competitor, frontend]
related:
  - TZ
  - TZ-v2.0
  - ukraine-poi-data-sources-report
  - todo4
  - todo3
---
# –§–∞–∑–∞ 2: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í—ã—Å–æ–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–∞–∑—ã 1
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –§–∞–∑–∞ 1 (Backend + Auth)

---

## 2.1 UI –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ë—Ä–µ–Ω–¥ ‚Üí –ì–æ—Ä–æ–¥ ‚Üí –¢–æ—á–∫–∏

### –î–µ—Ä–µ–≤–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (Sidebar)
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TreeView –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏
- [ ] –£—Ä–æ–≤–µ–Ω—å 1: –ë—Ä–µ–Ω–¥—ã/–ì—Ä—É–ø–ø—ã (Invictus, APOLLO NEXT, –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã, –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ)
- [ ] –£—Ä–æ–≤–µ–Ω—å 2: –ì–æ—Ä–æ–¥–∞ (–ö–∏–µ–≤, –õ—å–≤–æ–≤, –•–∞—Ä—å–∫–æ–≤...)
- [ ] –£—Ä–æ–≤–µ–Ω—å 3: –¢–æ—á–∫–∏ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏)
- [ ] –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
- [ ] –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤–µ—Ç–æ–∫
- [ ] Drag & drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ç–æ—á–µ–∫ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É"
  - [ ] –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
  - [ ] –¶–≤–µ—Ç (color picker)
  - [ ] –†–∞–¥–∏—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  - [ ] –¢–∏–ø (brand/category)
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (inline –∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–µ)
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É"
  - [ ] –ù–∞–∑–≤–∞–Ω–∏–µ
  - [ ] –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–∏–ª–∏ –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–µ)
  - [ ] –ì–æ—Ä–æ–¥ (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
  - [ ] –°—Ç–∞—Ç—É—Å
  - [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- [ ] –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–∫–æ–º –Ω–∞ –∫–∞—Ä—Ç—É
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏

---

## 2.2 –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (Reverse Geocoding)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Nominatim API
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å reverseGeocode(lat, lng)
- [ ] –ü–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (timeout, no result)

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞ –≤ localStorage
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ Supabase –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] Rate limiting (1 req/sec –¥–ª—è Nominatim)

### UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ—á–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≥–æ—Ä–æ–¥
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –≤ —Ñ–æ—Ä–º–µ
- [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥
- [ ] –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞

### Fallback
- [ ] –ï—Å–ª–∏ Nominatim –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤—ã–±—Ä–∞—Ç—å –≤—Ä—É—á–Ω—É—é
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å –±–ª–∏–∂–∞–π—à–∏–π –≥–æ—Ä–æ–¥ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –∏–∑ –±–∞–∑—ã

---

## 2.3 –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º –∏ –≥—Ä—É–ø–ø–∞–º

### –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤
- [ ] –ú—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç –≥–æ—Ä–æ–¥–æ–≤
- [ ] –ú—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç –≥—Ä—É–ø–ø/–±—Ä–µ–Ω–¥–æ–≤
- [ ] –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (–Ω–∞—à –∫–ª—É–±, –º—ã –æ—Ç–∫–∞–∑–∞–ª–∏, –∏ —Ç.–¥.)
- [ ] –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ—á–∫–∏
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"

### –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ URL (query params)
- [ ] –ü–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–∏–¥–∏–º—ã—Ö/–≤—Å–µ–≥–æ —Ç–æ—á–µ–∫

### –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- [ ] "–¢–æ–ª—å–∫–æ –º–æ–∏ –∫–ª—É–±—ã" (APOLLO NEXT)
- [ ] "–¢–æ–ª—å–∫–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã"
- [ ] "–¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏"
- [ ] "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë"

---

## 2.4 –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ—á–∫–∏
- [ ] –ù–∞–∑–≤–∞–Ω–∏–µ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ)
- [ ] –ê–¥—Ä–µ—Å (–∏–∑ reverse geocoding)
- [ ] –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (lat, lng)
- [ ] –°—Ç–∞—Ç—É—Å (dropdown)
- [ ] –ì—Ä—É–ø–ø–∞/–ë—Ä–µ–Ω–¥
- [ ] –ì–æ—Ä–æ–¥
- [ ] –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
- [ ] –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è / –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –õ–µ–Ω—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º)
- [ ] –§–æ—Ä–º–∞—Ç: "DD.MM.YYYY - –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
- [ ] –ê–≤—Ç–æ—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- [ ] Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –õ–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–æ—á–∫–∏ (–∫—Ç–æ, –∫–æ–≥–¥–∞, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª)
- [ ] –¢–∞–π–º–ª–∞–π–Ω —Å–æ–±—ã—Ç–∏–π
- [ ] –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è

---

## 2.5 –°—Ç–∞—Ç—É—Å—ã –ª–æ–∫–∞—Ü–∏–π

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
- [ ] üü¢ **–ù–∞—à –∫–ª—É–±** (–¥–µ–π—Å—Ç–≤—É—é—â–∏–π) ‚Äî `our_club`
- [ ] üü° **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ** ‚Äî `in_development`
- [ ] üî¥ **–ú—ã –æ—Ç–∫–∞–∑–∞–ª–∏** ‚Äî `we_rejected`
- [ ] ‚ö´ **–û—Ç–∫–∞–∑–∞–ª–∏ –Ω–∞–º** ‚Äî `they_rejected`
- [ ] üîµ **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç** ‚Äî `competitor`
- [ ] üü† **–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏** ‚Äî `under_review`

### UI —ç–ª–µ–º–µ–Ω—Ç—ã
- [ ] –¶–≤–µ—Ç–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- [ ] Dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞
- [ ] –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É

### –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] –ü—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –∞–≤—Ç–æ–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∏—Å—Ç–æ—Ä–∏—é
- [ ] –†–∞–∑–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –ø–∏–Ω–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –≤ sidebar

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–∞–∑—ã 2

- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ –ë—Ä–µ–Ω–¥ ‚Üí –ì–æ—Ä–æ–¥ ‚Üí –¢–æ—á–∫–∏
- [ ] –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ—á–∫–∏ –≥–æ—Ä–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –≥–æ—Ä–æ–¥–∞–º, –≥—Ä—É–ø–ø–∞–º –∏ —Å—Ç–∞—Ç—É—Å–∞–º
- [ ] –ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ –∏–º–µ–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –°—Ç–∞—Ç—É—Å—ã –ª–æ–∫–∞—Ü–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```json
{
  "react-arborist": "^3.x",    // –∏–ª–∏ –¥—Ä—É–≥–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è TreeView
  "date-fns": "^2.x",          // —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
  "@tanstack/react-query": "^5.x"  // –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

```
src/components/
‚îú‚îÄ‚îÄ TreeView/
‚îÇ   ‚îú‚îÄ‚îÄ TreeView.jsx
‚îÇ   ‚îú‚îÄ‚îÄ TreeNode.jsx
‚îÇ   ‚îî‚îÄ‚îÄ TreeContext.jsx
‚îú‚îÄ‚îÄ PointCard/
‚îÇ   ‚îú‚îÄ‚îÄ PointCard.jsx
‚îÇ   ‚îú‚îÄ‚îÄ PointForm.jsx
‚îÇ   ‚îú‚îÄ‚îÄ CommentList.jsx
‚îÇ   ‚îî‚îÄ‚îÄ StatusBadge.jsx
‚îú‚îÄ‚îÄ Filters/
‚îÇ   ‚îú‚îÄ‚îÄ FilterPanel.jsx
‚îÇ   ‚îú‚îÄ‚îÄ CityFilter.jsx
‚îÇ   ‚îú‚îÄ‚îÄ GroupFilter.jsx
‚îÇ   ‚îî‚îÄ‚îÄ StatusFilter.jsx
‚îî‚îÄ‚îÄ Modals/
    ‚îú‚îÄ‚îÄ AddPointModal.jsx
    ‚îú‚îÄ‚îÄ EditPointModal.jsx
    ‚îî‚îÄ‚îÄ AddGroupModal.jsx
```

## API endpoints (–∏–∑ –§–∞–∑—ã 1)

- `GET /cities` ‚Äî —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤
- `POST /points/:id/comments` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `PATCH /points/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ—á–∫—É (–≤–∫–ª—é—á–∞—è —Å—Ç–∞—Ç—É—Å)
- `GET /geocode?lat=X&lng=Y` ‚Äî reverse geocoding (—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
